/**********************************************************************
*																																			*
*		Файл параметров для АБ 72НВ-40 ЖЦПИ.563532.011 зав. № ________		*
*																																			*
***********************************************************************/

#ifndef PARAMETERS_E3001002_H
#define PARAMETERS_E3001002_H

#define nDatchD					5																				// Число датчиков давления
#define nDatchT					5																				// Число датчиков температуры

//**************************************************************************************************
const int	kodADC_t25[3]	= {1648, 1700, 1737};

const float	dTempC[3]	= {14.7, 3.69, 12.71};											// (Грд Цельс) дельта датчика температуры МК

const float kdelta	= 0.05;																			// Допустимый диапазон разброса ошибки 5% от диапазона измерений

			float	AUcc[3]	= {3.216, 3.291, 3.287};										// (В) Опорное напряжение АЦП МУК1, МУК2, МУК3
const float	Uref[3]	= {3.0169, 3.0197, 3.0214};										// (В) Прецизионное напряжение АЦП МУК1, МУК2, МУК3 на PD0

						 
// .............................................................................................................................
// *** М И Б *******************************************************************************************************************

const int nCorrectAE 	 = 2;																			// Числ пропусков ложного значения напряжений АЭ
const int koefZadergAE = 2;//4;																	// Коэфф задержки после коммутации дешифр АЭ (koefZadergAE*10000)

const float kTempAE[3]	= {0.00020001, 0.00015001, 0.00000001};	// Температурная коррекция АЭ

const float kTempAB[3]	= {0.00000001, 0.00000001, 0.00000001};	// Температурная коррекция АБ

//float minUAE = 0.6;																							// (В) Нижняя граница значения рабочего напряжения АЭ
//float maxUAE = 2.0;																							// (В) Верхняя граница значения рабочего напряжения АЭ

//														 1				 2				3				 4				5				 6				7				 8				9				10
const float	kAE_[2][72]	={{	/* МУК1 */
														2.530452,2.220004,2.465911,2.270316,2.421212,2.251183,2.399465,2.296335,2.371069,2.302934,
														2.364075,2.316247,2.364075,2.309571,2.357122,2.322960,2.350210,2.322959,2.350209,2.322959,
														2.350210,2.336504,2.336505,2.322959,2.329713,2.336504,2.406671,2.329712,2.329713,2.350208,
														2.343337,2.357121,2.336505,2.329712,2.350209,2.283251,2.343338,2.371069,2.329713,2.385182,
														2.329713,2.343336,2.336505,2.343336,2.329713,2.350208,2.329713,2.343336,2.329713,2.336504,
														2.336505,2.343336,2.329713,2.357120,2.336505,2.302934,2.350209,2.343336,2.336505,2.357120,
														2.406671,2.336504,2.329713,2.350208,2.322960,2.343336,2.329713,2.350208,2.316246,2.357120,2.336505,2.251182},

//													{
//														1.0, 1.0,		1.0, 1.0,   1.0, 1.0,   1.0, 1.0,		1.0, 1.0,		1.0, 1.0,
//													  1.0, 1.0,		1.0, 1.0,   1.0, 1.0,   1.0, 1.0,		1.0, 1.0,		1.0, 1.0,
//													  1.0, 1.0,		1.0, 1.0,   1.0, 1.0,   1.0, 1.0,		1.0, 1.0,		1.0, 1.0,
//													  1.0, 1.0,		1.0, 1.0,   1.0, 1.0,   1.0, 1.0,		1.0, 1.0,		1.0, 1.0,
//													  1.0, 1.0,		1.0, 1.0,   1.0, 1.0,   1.0, 1.0,		1.0, 1.0,		1.0, 1.0,
//													  1.0, 1.0,		1.0, 1.0,   1.0, 1.0,   1.0, 1.0,		1.0, 1.0,		1.0, 1.0}};
															
														// /* МУК2 */......................................................................................
														{ 
														2.493089,2.220370,2.435029,2.251381,2.398794,2.283272,2.370573,2.316077,2.391676,2.309441,
														2.343008,2.329464,2.356710,2.316078,2.349839,2.336216,2.363621,2.329465,2.336216,2.336216,
														2.349839,2.329465,2.336217,2.336216,2.343008,2.329465,2.343008,2.336216,2.349839,2.329465,
														2.343008,2.343009,2.349839,2.329465,2.343008,2.343009,2.356710,2.336217,2.336216,2.343009,
														2.343008,2.343008,2.329465,2.349839,2.349839,2.343008,2.309440,2.336218,2.322752,2.435030,
														2.336216,2.363622,2.336217,2.336217,2.329465,2.349840,2.343008,2.343008,2.336216,2.356711,
														2.329465,2.377566,2.316077,2.349839,2.343008,2.343008,2.329465,2.349840,2.356710,2.343008,2.336216,2.251382}};
					
// .............................................................................................................................
//														 1				 2				3					 4				5					6			  7					 8				9				 10
const float	dAE_0[2][72]	={	/* МУК1 ------------------------------------------------------------------------------------*/
													{
														0.079651, 0.004928,0.068895, 0.002266,0.081395,-0.047611,0.055590,-0.055168,0.075772,-0.043681,		//0.059651
														0.043396,-0.070275,0.100043,-0.050005,0.058197,-0.100094,0.085275,-0.056332,0.072140,-0.082635,
														0.075275,-0.061798,0.054459,-0.088254,0.098077,-0.050308,0.070283,-0.038827,0.074031,-0.052659,
														0.051106,-0.080091,0.090862,-0.050308,0.051576,-0.095831,0.063030,-0.043652,0.071316,-0.102777,
														0.068845,-0.058092,0.083557,-0.101425,0.087180,-0.052002,0.058425,-0.085772,0.092538,-0.048986,
														0.053168,-0.092065,0.100914,-0.084929,0.079164,-0.083919,0.096383,-0.049848,0.048887,-0.087625,
														0.076289,-0.056886,0.062343,-0.092102,0.087867,-0.043005,0.078050,-0.068928,0.100893,-0.056886,0.063557,-0.101841
													},
													{		/* МУК2 ------------------------------------------------------------------------------------*/
														0.013846,0.055656,0.003684,0.030703,0.010939,-0.005552,0.009718,0.026868,0.015053,0.019870,
														0.012708,0.014734,0.002300,0.011224,0.008991,-0.004689,0.032314,-0.001230,0.021570,-0.009525,
														0.029419,0.007195,0.022652,0.008939,0.018368,0.008307,0.011244,-0.001709,0.019870,-0.001230,
														0.021570,0.001945,0.017270,0.015205,0.013092,0.001945,0.028642,0.023459,0.024798,0.001945,
														0.014685,0.004249,0.011244,0.006718,0.020210,-0.002378,0.005274,0.012559,0.011336,0.006075,
														0.034961,-0.014938,0.000886,0.019537,0.020816,0.022990,0.032577,-0.008379,0.011244,0.013279,
														0.011728,0.007195,0.031321,-0.000339,0.016527,0.004949,0.009397,0.000807,0.022377,0.004949,0.016044,-0.016569
													}};
const float	dAE_w[2][72]	={	/* МУК1 ------------------------------------------------------------------------------------*/
													{
														0.089651,-0.004928,0.083895,0.007266,0.061395,-0.017611,0.025590,-0.035168,0.055772,-0.003681,
														0.033396,-0.030275,0.080043,-0.020005,0.038197,-0.080094,0.065275,-0.016332,0.042140,-0.042635,
														0.065275,-0.050798,0.034459,-0.038254,0.068077,-0.010308,0.040283,-0.018827,0.054031,-0.012659,
														0.041106,-0.040091,0.070862,-0.010308,0.051576,-0.055831,0.053030,-0.023652,0.041316,-0.062777,
														0.058845,-0.018092,0.053557,-0.061425,0.067180,-0.012002,0.038425,-0.045772,0.062538,-0.008986,
														0.043168,-0.042065,0.080914,-0.044929,0.059164,-0.043919,0.076383,-0.029848,0.048887,-0.047625,
														0.066289,-0.016886,0.042343,-0.070102,0.057867,-0.003005,0.048050,-0.048928,0.070893,-0.016886,0.053557,-0.081841
													},
													{		/* МУК2 ------------------------------------------------------------------------------------*/
														0.013846,0.055656,0.003684,0.030703,0.010939,-0.005552,0.009718,0.026868,0.015053,0.019870,
														0.012708,0.014734,0.002300,0.011224,0.008991,-0.004689,0.032314,-0.001230,0.021570,-0.009525,
														0.029419,0.007195,0.022652,0.008939,0.018368,0.008307,0.011244,-0.001709,0.019870,-0.001230,
														0.021570,0.001945,0.017270,0.015205,0.013092,0.001945,0.028642,0.023459,0.024798,0.001945,
														0.014685,0.004249,0.011244,0.006718,0.020210,-0.002378,0.005274,0.012559,0.011336,0.006075,
														0.034961,-0.014938,0.000886,0.019537,0.020816,0.022990,0.032577,-0.008379,0.011244,0.013279,
														0.011728,0.007195,0.031321,-0.000339,0.016527,0.004949,0.009397,0.000807,0.022377,0.004949,0.016044,-0.016569
													}};

// .............................................................................................................................

const float kUop[2]	=	{4.325, 4.325};						// Коэфф масштаб для измеренного опорного (аппаратного) напряжения

float cUsm[3][2] =  {{1.361, 1.363},						// (В) Измеренное напряжение средней точкой (смещение) для МУКов
									 	 {1.365, 1.359},
										 {0, 0}};
float Uop[2] = {1.981, 1.996};									// (В) Измеренное опорное напряжение

float t_Usm[2]	=	{1.364, 1.36};								// (В) Измеренное напряжение средней точкой (смещение) для отладки
float t_Uop[2]	=	{2.006, 1.992};

float TUsm[2];																	// (В) Измеренное напряжение средней точкой (смещение) для отладки
float TUop[2];																	// (В) Измеренное опорное напряжение для отладки
//
volatile float NumIzmAE[nDatchD]	= {54, 25, 17, 60, 50};	// Номера измерительных АЭ (ДД, ДТ) от 23.01.20
//volatile float NumIzmAE[nDatchD]	= {6, 7, 16, 59, 66};	// 7, 8, 17, 60, 67 - Номера измерительных АЭ (ДД, ДТ) 


// .............................................................................................................................
// *** П С Д *******************************************************************************************************************

const int nCorrectDD = 1;												// Числ пропусков ложного значения напряжений датчиков ДАВЛЕНИЯ
const int nCorrectDT = 1;												// Числ пропусков ложного значения напряжений датчиков ТЕЧПЕРАТУРЫ
const int nCorrectDAB = 1;											// Числ пропусков ложного значения напряжений датчиков ТЕЧПЕРАТУРЫ

const int koefZadergDat = 2;										// Коэфф задержки после коммутации дешифр датчиков (koefZadergDat*40000)

const float	KuGndP[3]	= {1.0, 1.0, 1.0};
const float	KuGndT[3]	= {1.0, 1.0, 1.0};
const float	KuOpornP[3]	= {1.0, 1.0, 1.0};
const float	KuOpornT[3]	= {1.0, 1.0, 1.0};

// ******************************** Напряжение АБ: ******************************** 
const float	KuAB1[3]	= {64.203035, 64.426245, 62.138699};
const float	DuAB1[3]	= {0.537773,   0.081076, 0.000000};

const float	KuAB2[3]	= {64.203035, 64.569411, 62.138699};
const float	DuAB2[3]	= {0.537773,  -0.024430, -0.000000};

// ******************************** Датчики давления: ********************************
const float	MinUdatchD = 0.1;															 
const float	MaxUdatchD = 3.18;
	
// ------------------------------- Паспортные данные
float a0[3][nDatchD]				  =	{{1.1784,	1.1784, 1.1784, 1.1784, 1.1784},
														  	 {1.1784,	1.1784, 1.1784, 1.1784, 1.1784},
	 													  	 {1.1784,	1.1784, 1.1784, 1.1784, 1.1784}};

float a1[3][nDatchD]				  = {{0.4732, 0.4732, 0.4732, 0.4732, 0.4732},
	 													  	 {0.4732, 0.4732, 0.4732, 0.4732, 0.4732},
	 													  	 {0.4732, 0.4732, 0.4732, 0.4732, 0.4732}};

float a2[3][nDatchD]				  =	{{0.0002, 0.0002, 0.0002, 0.0002, 0.0002},
	 													  	 {0.0002, 0.0002, 0.0002, 0.0002, 0.0002},
	 													  	 {0.0002, 0.0002, 0.0002, 0.0002, 0.0002}};
																 
// ------------------------------- Тарировочные данные
float ItarD[nDatchD]	= {0.002003,  0.0019898,  0.002002, 0.001993, 0.002002};		// (A) Ток опроса датчиков ДД в БЭ

const float	kDD[3][nDatchD]		= {{0.050717,0.050724,0.050735,0.050722,0.050796},
																 {0.050769,0.050685,0.050677,0.050639,0.050731},
																 {0.048798,0.048761,0.048708,0.048716,0.048829}};
//																 {1.0, 1.0, 1.0, 1.0, 1.0},

const float	dDD[3][nDatchD]		= {{-0.007266,-0.007290,-0.007023,-0.007184,-0.007190},
																 {-0.007303,-0.007133,-0.006855,-0.006987,-0.007045},
																 {-0.007291,-0.007238,-0.006879,-0.007053,-0.007175}};							 
//																 {0.0, 0.0, 0.0, 0.0, 0.0},
																 

// ******************************** Датчики температуры: ********************************
const float	MinUdatchT = 0.001;															 
const float	MaxUdatchT = 3.18;
															 
// ------------------------------- Паспортные данные
float R0[nDatchT]			= {99.94, 99.94, 99.94, 99.94, 99.94};										// (ом) Сопротивление датчика при t = 0°C (по паспорту);
//float R100[nDatchT]		= {99.94, 99.94, 99.94, 99.94, 99.94};										// (ом) Сопротивление датчика при t = 100°C (по паспорту);
												 
float alpha[nDatchT]	= {0.004149, 0.004149, 0.004149, 0.004149, 0.004149};			// Температурный коэффициент по паспорту.

// ------------------------------- Тарировочные данные																																	
float ItarT[nDatchT]	= {0.0040124, 0.0040274, 0.0040072, 0.00402, 0.0040166};		// (A) Ток опроса датчиков ДД в БЭ

const float	kDT[3][nDatchD]		= {{0.044094,0.044123,0.044143,0.044317,0.044398},
																 {0.044168,0.044138,0.044160,0.044125,0.044184},
																 {0.042501,0.042455,0.042421,0.042423,0.042498}
//																 {1.0, 1.0, 1.0, 1.0, 1.0},
																 };

const float	dDT[3][nDatchD]		= {{0.371285,0.370949,0.371017,0.370491,0.370311},
																 {0.372777,0.372699,0.372575,0.372698,0.372337},
																 {0.371999,0.371962,0.372067,0.372073,0.371758}
//																 {0.0, 0.0, 0.0, 0.0, 0.0},
																};								 

const float	kTemp[3][5]	= {0.00000001, 0.00000001, 0.00000001, 0.00000001, 0.00000001,
													 0.00000001, 0.00000001, 0.00000001, 0.00000001, 0.00000001,
													 0.00000001, 0.00000001, 0.00000001, 0.00000001, 0.00000001};

//const float	dKT[3][nDatchD]	= {{ 0.01,   0.01,  0.010,  0.01,  0.01},
//															 {-0.018, -0.02, -0.018, -0.019, -0.02},
//															 { 0.0245, 0.024, 0.0245, 0.025,  0.024}};						// Коэфф динамической дельты датч темпертуры

//========== коррекция первой уставки ====================================================================
const float	LimUadc[3][nDatchD]	= {{ 0.9, 0.9, 0.9, 0.9, 0.9},
																		{0.9, 0.9, 0.9, 0.9, 0.9},
																		{0.9, 0.9, 0.9, 0.9, 0.9}};											// Коэфф динамической дельты датч темпертуры

const float	kLimUadc[3][nDatchD]	= {{0.0035, 0.0070, 0.004, 0.0027, 0.0027},
																	 	 {0.0035, 0.0070, 0.004, 0.0037, 0.0037},
																		 {0.0035, 0.0073, 0.0045, 0.004, 0.004}};						// Коэфф динамической дельты датч темпертуры

const float	kLimUadcT[3][nDatchD]	= {{0.000005, 0.000005, 0.000005, 0.000005, 0.000005},
	                                   {0.000005, 0.000005, 0.000005, 0.000005, 0.000005},                      // Коэфф динамической дельты датч темпертуры для 1 уставки 
																		 {0.0, 0.000005, 0.000005, 0.000005, 0.000005}};																			 

//========== коррекция пятой уставки ====================================================================
const float	LimUadc_5[3][nDatchD]	= {{ 3.3, 3.3, 3.3, 3.3, 3.3},
																			{3.3, 3.3, 3.3, 3.3, 3.3},
																			{3.3, 3.3, 3.3, 3.3, 3.3}};

const float	kLimUadc_5[3][nDatchD]	= {{0.0, 0.0, 0.0, 0.0, 0.0},
																			{ 0.0, 0.0, 0.0, 0.0, 0.0},
																			{ 0.0, 0.0, 0.0, 0.0, 0.0}};						// Коэфф динамической дельты датч темпертуры

const float	kLimUadc_5_T[3][nDatchD]	= {{0.0, 0.0, 0.0, 0.0, 0.0},
																			{ 0.0, 0.0, 0.0, 0.0, 0.0},
																			{ 0.0, 0.0, 0.0, 0.0, 0.0}};						// Коэф динамической дельты датч темпертуры для 5 уставки


#endif
